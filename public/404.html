<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>გვერდი ვერ მოიძებნა</title>
    <script>
      // ძალიან გამარტივებული 404 ლოგიკა GitHub Pages SPA-სთვის
      (function() {
        const path = window.location.pathname;
        const basePath = '/shop';
        const origin = window.location.origin;
        
        // შევამოწმოთ, თუ პირდაპირ პროდუქტის გვერდზე ვართ შესული
        // და მისამართი სწორია (/shop/product/...), არაფერი არ ვქნათ.
        // Next.js-ის როუტერი თავად მოაგვარებს.
        const productPattern = /^\/shop\/product\/[^\/]+\/?$/;
        if (productPattern.test(path)) {
          console.log('404: სწორი პროდუქტის გვერდის მისამართია, არ ვამისამართებთ.');
          // სურვილისამებრ, შეგვიძლია localStorage-ში ID შევინახოთ, თუ კლიენტი ამას ელოდება
          const match = path.match(productPattern);
          if (match && match[1]) {
             localStorage.setItem('currentProductId', match[1]);
          }
          return; // გავაჩეროთ სკრიპტი
        }
        
        // თუ მისამართი არასწორია, გადავამისამართოთ მთავარ /shop/ გვერდზე.
        // იქიდან Next.js როუტერი გააგრძელებს მუშაობას.
        console.log('404: არასწორი მისამართი, გადამისამართება /shop/-ზე:', path);
        window.location.replace(origin + basePath + '/');
      })();
    </script>
    <!-- მეტა განახლება წავშალოთ ან დავაკომენტაროთ, რადგან სკრიპტი აკეთებს გადამისამართებას -->
    <!-- <meta http-equiv="refresh" content="0;url=/shop/" /> -->
    <style>
      body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
      a { color: #0066cc; }
    </style>
  </head>
  <body>
    <h1>გვერდი ვერ მოიძებნა</h1>
    <p>გადამისამართება მიმდინარეობს...</p>
    <p>თუ ავტომატურად არ გადამისამართდა, გთხოვთ, დააჭიროთ <a href="/shop/">აქ</a>.</p>
  </body>
</html> 